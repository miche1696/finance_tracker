{% extends "expenses/base.html" %}
{% block content %}
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="mb-0">Expense Calendar: {{ month }}/{{ year }}</h2>
    <div class="btn-group" role="group">
      <a href="{% url 'expenses:calendar' %}?year={{ prev_year }}&month={{ prev_month }}" 
         class="btn btn-outline-primary">
        <i class="bi bi-chevron-left"></i> Previous Month
      </a>
      <a href="{% url 'expenses:calendar' %}?year={{ next_year }}&month={{ next_month }}" 
         class="btn btn-outline-primary">
        Next Month <i class="bi bi-chevron-right"></i>
      </a>
    </div>
  </div>
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Mon</th>
        <th>Tue</th>
        <th>Wed</th>
        <th>Thu</th>
        <th>Fri</th>
        <th>Sat</th>
        <th>Sun</th>
      </tr>
    </thead>
    <tbody>
      {% for week in calendar %}
        <tr>
          {% for cell in week %}
            <td class="calendar-cell {% if cell.total > 500 %}high-expense{% endif %}" style="vertical-align: top;">
              {% if cell.day %}
                <strong>{{ cell.day }}</strong><br/>
                â‚¬{{ cell.total }}
              {% endif %}
            </td>
          {% endfor %}
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %} 